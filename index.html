<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Back2Me</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #f5f7fb;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      padding: 16px;
    }

    .card {
      background: white;
      padding: 24px;
      border-radius: 16px;
      max-width: 400px;
      width: 100%;
      box-shadow: 0 10px 25px rgba(0,0,0,0.08);
      text-align: center;
    }

    h1 { font-size: 28px; margin-bottom: 8px; }
    p { font-size: 14px; color: #555; margin-bottom: 24px; }

    .btn {
      display: block;
      padding: 14px;
      margin: 12px 0;
      border-radius: 12px;
      color: white;
      font-weight: 600;
      text-decoration: none;
      cursor: pointer;
    }

    .owner { background: #ec4899; }
    .finder { background: #3b82f6; }
    .instagram { background: linear-gradient(45deg,#f58529,#dd2a7b,#8134af,#515bd4); }
    .tiktok { background: linear-gradient(45deg,#69C9D0,#EE1D52,#010101); }

    footer { font-size: 12px; color: #888; margin-top: 16px; }
  </style>
</head>

<body>
  <div class="card">
    <h1>Back2Me</h1>

    <p>
      This item is protected. Hello, and welcome to the Back2Me website!
      To claim your QR code, click the button below.
      If this is not your QR code tag, please click on the "I Found This Item" button.
      Consider following us on our social media accounts for exclusive content!
    </p>

    <a id="claimBtn" class="btn owner">
      <i class="fa-solid fa-user-check"></i> Claim This Tag
    </a>

    <a class="btn finder">
      <i class="fa-solid fa-hand-holding-heart"></i> I Found This Item
    </a>

    <a href="YOUR_INSTAGRAM_LINK_HERE" class="btn instagram">
      <i class="fab fa-instagram"></i> Back2Me Instagram
    </a>

    <a href="YOUR_TIKTOK_LINK_HERE" class="btn tiktok">
      <i class="fab fa-tiktok"></i> Back2Me TikTok
    </a>

    <footer>Privacy-first â€¢ No personal data shown</footer>
  </div>

  <script>
    const claimBtn = document.getElementById("claimBtn");

    // Replace this with your deployed Apps Script Web App URL
    const API_URL = "YOUR_DEPLOYED_WEB_APP_URL_HERE";

    claimBtn.onclick = async () => {
      claimBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Processing...';
      claimBtn.style.pointerEvents = "none";

      try {
        const res = await fetch(
https://script.google.com/macros/s/AKfycbxpba8acy6w-URtbPn6Z1WcDJTYRDAx1TnQAsqY3LwggX7Ypvu4zvFYbhkshs7NL3d4oA/exec);
        const data = await res.json();

        if (!data.urls || !data.urls.length) {
          claimBtn.innerText = "All tags have been claimed";
          return;
        }

        // Pick a random URL from the list
        const randomUrl = data.urls[Math.floor(Math.random() * data.urls.length)];
        window.location.href = randomUrl;

      } catch (err) {
        console.error(err);
        claimBtn.innerText = "Error. Please try again.";
        claimBtn.style.pointerEvents = "auto";
      }
    };
  </script>
</body>
</html>
